<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self' https://blektre.com https://bdev.blektre.com; img-src https://blektre.com https://bdev.blektre.com data:; media-src https://blektre.com https://bdev.blektre.com; frame-src https://blektre.com https://bdev.blektre.com; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline';"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Blektre</title>
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        background: #000;
        overflow: hidden;
      }
      #mainframe {
        border: 0;
        width: 100%;
        height: 100%;
        display: block;
      }
    </style>
  </head>
  <body>
    <iframe
      id="mainframe"
      title="Blektre"
      allow="fullscreen; autoplay; encrypted-media"
      allowfullscreen
    ></iframe>
    <script>
      (function () {
        const params = new URLSearchParams(window.location.search);
        const version = params.get("version") || "V_CHRISTMAS2025_V2";
        const domain = params.get("domain") || "blektre.com";
        const url = `https://${domain}?version=${encodeURIComponent(
          version
        )}&c3=1`;
        const frame = document.getElementById("mainframe");
        frame.src = url;
      })();
    </script>
    <script>
      // Prevent Esc from exiting fullscreen when the wrapper has focus.
      window.addEventListener(
        "keydown",
        (event) => {
          if (event.key === "Escape") {
            event.preventDefault();
            event.stopPropagation();
          }
        },
        true
      );
    </script>
  </body>
</html>
